# BTS-0000022: unified-worker youtube ë¡œê·¸ê°€ youtube.log íŒŒì¼ì— ê¸°ë¡ ì•ˆë¨

**ë°œìƒì¼:** 2025-12-03

**ìƒíƒœ:** âœ… **í•´ê²°ë¨**

**ì‹¬ê°ë„:** ğŸŸ¡ **HIGH** - ë””ë²„ê¹… ë¶ˆê°€

**ì¦ìƒ:**
unified-workerì—ì„œ YouTube ì—…ë¡œë“œ ì‹œ Python í”„ë¡œì„¸ìŠ¤ì˜ ì¶œë ¥ì´ youtube.log íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ì•ŠìŒ.
ì½˜ì†”ì—ë§Œ ì¶œë ¥ë˜ê³ , task_queue.log í•„ë“œì—ë§Œ ì €ì¥ë¨.

**ê·¼ë³¸ ì›ì¸:**
unified-worker.jsì—ì„œ ë¡œê·¸ íŒŒì¼ append ë¡œì§ì´ ì—†ì—ˆìŒ

**ìˆ˜ì • ë‚´ì—­:**
`src/workers/unified-worker.js` ìˆ˜ì •
1. `fs` ëª¨ë“ˆ import ì¶”ê°€ (line 8)
2. `appendToLogFile` í—¬í¼ í•¨ìˆ˜ ì¶”ê°€ (line 48-66)
3. Python stdout/stderr ì½ì„ ë•Œ appendToLogFile í˜¸ì¶œ (line 702, 711)

**êµ¬í˜„:**
```javascript
// ë¡œê·¸ íŒŒì¼ append í—¬í¼
function appendToLogFile(taskId, logType, message) {
  const backendPath = path.join(process.cwd(), '..', 'trend-video-backend');
  const logFilePath = path.join(backendPath, 'tasks', taskId, `${logType}.log`);
  const timestamp = getLocalDateTime();
  const logLine = `[${timestamp}] ${message}\n`;
  fs.appendFileSync(logFilePath, logLine, 'utf-8');
}

// Python ì¶œë ¥ ì½ì„ ë•Œ í˜¸ì¶œ
pythonProcess.stdout.on('data', (data) => {
  appendToLogFile(taskId, 'youtube', text.trim());
});
```

**ì°¸ê³ :**
- content.tsì˜ addContentLog ëŒ€ì‹  ì§ì ‘ êµ¬í˜„ (CommonJS í˜¸í™˜ì„±)

---
