# BTS-0000008: content.status 단계 기록 누락 (중간 단계 미반영)

**발생일:** 2025-12-02

**상태:** ✅ 해결됨

**증상:**
- script 완료 후 content.status가 'completed'로 설정됨 (❌ 잘못!)
- image/video 단계가 진행돼도 content.status에 현재 단계가 남지 않음

**원인:**
- `triggerNextStage` 함수가 content.status를 현재 단계 기준으로 업데이트하지 않음
- youtube 완료만 'completed'로 처리되고 중간 단계 스테이지 정보는 사라짐

**올바른 스펙 (content.status는 현재/최종 단계 표시):**
```
script 완료 → content.status = 'script'
image 완료 → content.status 유지('script')
video 완료 → content.status = 'video'
youtube 완료 → content.status = 'completed'
```

**해결 방법:**
- `unified-worker.js`에서 단계 전환 시 content.status를 현재 단계로 UPDATE (script/video만)
- youtube 완료 시 content.status를 'completed'로 설정
- task_queue는 기존처럼 type만 다음 단계로 UPDATE + status='waiting'

**추가 수정:**
- content.status ENUM에 'waiting', 'draft' 추가 (대기 상태 저장 가능하지만 기본 플로우는 단계 명시)

---
