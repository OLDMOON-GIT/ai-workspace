# BTS-0000002: TTS speed 포맷 에러

**발생일:** 2025-12-02

**상태:** ✅ 해결됨

**에러 메시지:**
```
create_video_from_folder.py: error: argument --speed: invalid float value: '+0%'
```

**증상:**
- 영상 생성 작업(video task) 실패
- Python 스크립트가 TTS speed 파라미터 파싱 실패

**원인:**
- DB에 저장된 `tts_speed` 값이 percentage 문자열 형식 (`'+0%'`, `'+10%'` 등)
- Python script는 float 값 기대 (1.0, 1.1 등)

**해결 방법:**
1. `/api/generate-video-upload/route.ts` 수정 (lines 600-604)
2. percentage 문자열을 float로 변환하는 함수 추가:
```typescript
function convertTtsSpeed(speedStr: string): number {
  const match = speedStr.match(/([+-]?\d+)%/);
  if (!match) return 1.0;
  const percent = parseInt(match[1]);
  return 1.0 + (percent / 100);
}
```

**테스트:**
- `'+0%'` → `1.0`
- `'+10%'` → `1.1`
- `'-10%'` → `0.9`

**재발 방지:**
- Python 스크립트 인자는 항상 타입 검증
- percentage 포맷은 API 레벨에서 변환

---
