# BTS-0000007: product_info 잘못된 테이블 참조

**발생일:** 2025-12-02

**상태:** ✅ 해결됨

**에러 메시지:**
```
Unknown column 'product_info' in 'field list'
```

**증상:**
- unified-worker가 스크립트 생성 API 호출 시 500 에러 발생
- 예약된 작업들이 실행되지 못함

**원인:**
- `src/app/api/scripts/generate/route.ts`에서 `task` 테이블에서 `product_info` 조회
- `product_info`는 `content` 테이블에 있음 (큐 스펙 v3)
- 스키마 변경 후 쿼리 업데이트 누락

**영향 범위:**
- Line 267: product 타입 스크립트 생성
- Line 340: product-info 타입 스크립트 생성

**해결 방법:**
```typescript
// Before:
SELECT product_info FROM task
WHERE title = ?

// After:
SELECT product_info FROM content
WHERE title = ?
```

**재발 방지:**
- 스키마 변경 시 컬럼 위치 변경도 전체 grep 필요
- task 테이블은 최소화 (task_id, user_id, scheduled_time만)
- content 테이블이 메인 데이터 저장소

---
