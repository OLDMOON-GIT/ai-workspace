# 媛쒕컻 媛?대뱶 (Development Guide)

workspace ?꾨줈?앺듃???듭떖 援ы쁽 ?⑦꽩怨?紐⑤쾾 ?щ? ?뺣━

## ?? ??

**?? ??:**
- ??(`DEVELOPMENT_GUIDE.md`) - ?? ?? ?? ??
- `md/frontend/????.md` - ????? ????? ??

**?? ?? (?????):**

### ?? ?? & ???
- [AUTOMATION_GUIDE.md](../specs/AUTOMATION_GUIDE.md) - ??? ??? ??
- [PRODUCT_CATEGORY_AUTOMATION_SPEC.md](../specs/PRODUCT_CATEGORY_AUTOMATION_SPEC.md) - ?????? ??? ?? ??
- [PRODUCT_AUTOMATION_PROCESS.md](../specs/PRODUCT_AUTOMATION_PROCESS.md) - ?? ??? ????
- [AUTOMATION_PRODUCT_FLOW.md](../specs/AUTOMATION_PRODUCT_FLOW.md) - ?????? ?? ??

### ?/??? & ?
- [QUEUE_SYSTEM_DEVELOPER_GUIDE.md](../specs/QUEUE_SYSTEM_DEVELOPER_GUIDE.md) - ? ??? ?? ???
- [QUEUE_FIX_SUMMARY.md](../fixes/QUEUE_FIX_SUMMARY.md) - ? ??? ?? ??

### ???/??? ?? & ??
- [LONGFORM_STORY_GUIDE.md](./LONGFORM_STORY_GUIDE.md) - ?? ??? ???
- [SHORTFORM_STORY_GUIDE.md](./SHORTFORM_STORY_GUIDE.md) - ?? ??? ???
- [SORA2_STORY_GUIDE.md](../specs/SORA2_STORY_GUIDE.md) - SORA 2 ????? ???
- [LOG_PATTERN_GUIDE.md](../fixes/LOG_PATTERN_GUIDE.md) - ?? ?? ???

### ??? & ????
- [INTEGRATION_TEST_PLAN.md](../tests/INTEGRATION_TEST_PLAN.md) - ?? ??? ??
- [INTEGRATION_TEST_SUMMARY.md](../tests/INTEGRATION_TEST_SUMMARY.md) - ?? ??? ??
- [ERD_TABLE_TEST_REPORT.md](../tests/ERD_TABLE_TEST_REPORT.md) - ERD ??? ??? ???

### ?? ?? ??
- [CRITICAL_FEATURES.md](./CRITICAL_FEATURES.md) - ?? ?? ??
- [PAUSE_LOGIC_SUMMARY.md](../specs/PAUSE_LOGIC_SUMMARY.md) - ???? ?? ??
- [PRODUCT_INFO_FLOW.md](../specs/PRODUCT_INFO_FLOW.md) - ???? ???
- [QUICK_START_GUIDE.md](../ops/QUICK_START_GUIDE.md) - ?? ?? ???
- [COMPLETE_AUTO_GUIDE.md](../specs/COMPLETE_AUTO_GUIDE.md) - ??? ?? ???

### ?? ?? ?? ????
- [AUTOMATION_PIPELINE_FIX.md](../specs/AUTOMATION_PIPELINE_FIX.md) - ??? ????? ??
- [LOG_APPEND_FIX_SOLUTION.md](../fixes/LOG_APPEND_FIX_SOLUTION.md) - ?? ?? ?? ???
- [LOG_FIX_COMPLETE.md](../fixes/LOG_FIX_COMPLETE.md) - ?? ?? ??
- [DEVELOPMENT_GUIDE.backup.md](../archive/DEVELOPMENT_GUIDE.backup.md) - ?? ??? ??

---

## ?썱截??ㅽ겕由쏀듃 & ?뚯뒪???뚯씪 援ъ“

### ?좑툘 workspace 猷⑦듃???좏떥由ы떚 ?뚯씪

workspace 猷⑦듃???덈뒗 紐⑤뱺 `.js` ?뚯씪?ㅼ? **?좏떥由ы떚/媛쒕컻 ?ㅽ겕由쏀듃**?낅땲?? ?ㅼ젣 ?꾨줈?앺듃 肄붾뱶???꾨땲怨? 媛쒕컻 怨쇱젙?먯꽌 ?ъ슜?섎뒗 ?꾩슦誘??ㅽ겕由쏀듃?ㅼ엯?덈떎.

**?꾩튂:** `scripts/` ?대뜑 ???뺣━??
```
scripts/
?쒋?? tests/
??  ?쒋?? frontend/ (48媛??꾨줎?몄뿏???뚯뒪??
??  ??  ?붴?? test-*.js, test-*.json
??  ?붴?? backend/ (32媛?諛깆뿏???뚯뒪??
??      ?붴?? test-*.js
?붴?? utils/ (?쇰컲 ?좏떥由ы떚 ?ㅽ겕由쏀듃)
    ?붴?? *.js
```

### ?꾨줈?앺듃蹂??뚯뒪??

媛??꾨줈?앺듃 ?댁뿉???뚯뒪???뚯씪?ㅼ씠 蹂듭궗?섏뼱 ?덉뼱???대떦 ?꾨줈?앺듃?먯꽌 吏곸젒 ?ㅽ뻾 媛?ν빀?덈떎:

**Frontend ?뚯뒪??**
```bash
cd trend-video-frontend
node scripts/tests/test-automation-queue-flow.js
```

**Backend ?뚯뒪??**
```bash
cd trend-video-backend
node scripts/tests/test-automation-complete-flow.js
```

### ?뚯뒪???뚯씪 遺꾨쪟 湲곗?

- **?꾨줎?몄뿏??*: UI, ?섏씠吏, 而댄룷?뚰듃, YouTube, ?대?吏 愿??
- **諛깆뿏??*: ?곗씠?곕쿋?댁뒪, API, ?먮룞?? ?ㅼ?以꾨윭 愿??

---

## ?뱚 ?꾩떆 ?뚯씪 愿由?(temp ?대뜑)

### Temp ?대뜑???⑸룄

媛쒕컻 怨쇱젙?먯꽌 ?뚯뒪?명븯嫄곕굹 ?꾩떆濡?留뚮뱺 ?뚯씪?ㅼ쓣 愿由ы빀?덈떎:

```
temp/
?쒋?? ?뚯뒪???뚯씪
??  ?쒋?? *.py (Python ?뚯뒪??
??  ?쒋?? *.bat, *.ps1 (Windows ?ㅽ겕由쏀듃)
??  ?붴?? *.log (濡쒓렇 ?뚯씪)
?쒋?? ?꾩떆 ?곗씠??
??  ?쒋?? *.txt (硫붾え, ?꾩떆 ?띿뒪??
??  ?쒋?? *.diff, *.patch (?⑥튂 ?뚯씪)
??  ?붴?? *.json (?뚯뒪???곗씠??
?붴?? 湲고?
    ?쒋?? *.png (?ㅽ겕由곗꺑)
    ?붴?? 罹먯떆 ?뚯씪 ??
```

### 二쇱쓽?ы빆

- **git??而ㅻ컠?섏? ?딆쓬**: `.gitignore`??`temp/`媛 ?깅줉?섏뼱 ?덉쓬
- **?꾨줈?앺듃 肄붾뱶 ?꾨떂**: 媛쒕컻 怨쇱젙???꾩떆 ?곗텧臾?
- **?꾩슂?쒕쭔 ?좎?**: 遺덊븘?뷀븳 ?뚯씪? ??젣 媛??

---

## ?뙊 湲곕낯 洹쒖튃

### AI?????붾뒗 ?쒓?濡?吏꾪뻾
- 紐⑤뱺 媛쒕컻 ??? 肄붾뱶 二쇱꽍, ?먮윭 硫붿떆吏???쒓? ?곗꽑

### ?ъ슜?먯뿉寃??묒뾽???쒗궎吏 ?딅뒗??
- AI媛 吏곸젒 肄붾뱶 ?뺤씤, 濡쒓렇 遺꾩꽍, 臾몄젣 ?닿껐
- ?ъ슜?먮뒗 寃곌낵留??뺤씤
- **"?섎씪留덈씪" ?섏? ?딄린**: ?ъ슜?먯뿉寃?紐낅졊???대━嫄곕굹 吏?쒗븯吏 ?딅뒗??
  - ??"??紐낅졊?대? ?ㅽ뻾?섏꽭??, "~?대낫?쒓쿋?댁슂?", "蹂듭궗?댁꽌 遺숈뿬?ｌ쑝?몄슂"
  - ??諛붾줈 ?묒뾽???섑뻾?섍퀬 寃곌낵瑜?蹂닿퀬
  - ?ъ슜?먭? 吏곸젒 ?댁빞 ?섎뒗 ?묒뾽?대㈃ ?먮룞??諛⑸쾿??李얘굅?? 遺덇??ν븯硫?紐낇솗???ㅻ챸

### Claude Code ?ㅼ튂
- npm 踰꾩쟾 ?ъ슜 湲덉? (?깅뒫 ?댁뒋)
- 怨듭떇 ?ㅼ튂 ?꾨줈洹몃옩 ?ъ슜

### 湲곕뒫 ?뺤씤 ?꾨줈?몄뒪 狩먥춴狩?
**?ъ슜?먭? "湲곕뒫???대뼸寃?援ы쁽?댁빞 ?섎뒗吏 湲곕뒫?뺤씤???대킄" ?먮뒗 ?좎궗???붿껌??????**

1. **湲곕뒫紐⑸줉.md ?뺤씤** - 癒쇱? ?뺤씤??寃?
   - ?꾩튂: `trend-video-frontend/湲곕뒫紐⑸줉.md`
   - 湲곕뒫???숈옉 ?먮쫫
   - 援ы쁽 ?꾩튂 諛??뚯씪
   - ?꾩옱 ?꾨즺 ?곹깭

2. **?ㅽ럺 ?뺤씤** - ?먯꽭???댁슜 ?꾩슂 ??
   - `PRODUCT_CATEGORY_AUTOMATION_SPEC.md` ??愿??SPEC ?뚯씪 ?뺤씤
   - API ?붿껌/?묐떟 ?뺤떇
   - ?곗씠?곕쿋?댁뒪 ?ㅽ궎留?

3. **肄붾뱶 遺꾩꽍** - ?ㅼ젣 援ы쁽 ?뺤씤 ?꾩슂 ??
   - 湲곕뒫紐⑸줉.md??"援ы쁽 ?꾩튂"??紐낆떆???뚯씪 ?뺤씤
   - 愿???뚯씪?ㅼ쓽 援ы쁽 濡쒖쭅 寃??

**?듭떖**: 湲곕뒫紐⑸줉.md瑜?以묒떖?쇰줈 紐⑤뱺 媛쒕컻??Claude, ChatGPT, Gemini ??媛 媛숈? 紐⑺몴瑜?異붽뎄?????덈룄濡???

## ?뱥 紐⑹감

1. [?곸긽 ?앹꽦 3醫??명듃 洹쒖튃](#1-?곸긽-?앹꽦-3醫??명듃-洹쒖튃) 狩먥춴狩?
2. [?뚯씪 ?뺣젹 洹쒖튃](#2-?뚯씪-?뺣젹-洹쒖튃) 狩?
3. [?먮쭑 ?깊겕 ?쒖뒪??(#3-?먮쭑-?깊겕-?쒖뒪?? 狩?
4. [鍮꾨뵒??蹂묓빀 ?뚰겕?뚮줈??(#4-鍮꾨뵒??蹂묓빀-?뚰겕?뚮줈?? 狩?
5. [Regression Test](#5-regression-test) 狩?
6. [?꾨줎?몄뿏??諛깆뿏???꾪궎?띿쿂](#6-?꾨줎?몄뿏??諛깆뿏???꾪궎?띿쿂) 狩?
7. [?몄쬆 援ы쁽](#7-?몄쬆-援ы쁽)
8. [珥덇린 濡쒕뵫 理쒖쟻??(#8-珥덇린-濡쒕뵫-理쒖쟻??
9. [?대쭅 理쒖냼??(#9-?대쭅-理쒖냼??
10. [濡쒓렇 愿由?(#10-濡쒓렇-愿由?
11. [UI/UX ?쇨???(#11-uiux-?쇨??? 狩?
12. [API ?먮윭 泥섎━](#12-api-?먮윭-泥섎━) 狩?
13. [諛깃렇?쇱슫???꾨줈?몄뒪 以묒?](#13-諛깃렇?쇱슫???꾨줈?몄뒪-以묒?) 狩?
14. [踰꾪듉 諛곗튂 洹쒖튃](#14-踰꾪듉-諛곗튂-洹쒖튃) 狩?
15. [API ?뚯뒪???꾨줈?몄뒪](#15-api-?뚯뒪???꾨줈?몄뒪) 狩?
16. [?ㅼ?以꾨윭 以묐났 ?ㅽ뻾 諛⑹?](#16-?ㅼ?以꾨윭-以묐났-?ㅽ뻾-諛⑹?) 狩?
17. [Next.js HMR 諛??쒕쾭 ?ъ떆??(#17-nextjs-hmr-諛??쒕쾭-?ъ떆?? 狩먥춴狩?
18. [踰꾧렇 ?섏젙 ?덉뒪?좊━](#18-踰꾧렇-?섏젙-?덉뒪?좊━)

---

## 1. ?곸긽 ?앹꽦 3醫??명듃 洹쒖튃

### ?렞 ?덈? ?먯튃: 3媛??뚯씪? ??긽 ?④퍡 ?섏젙 狩먥춴狩?

**誘몃뵒??泥섎━ 愿???섏젙 ??諛섎뱶??3媛??뚯씪???명듃濡??섏젙:**

1. **?곸긽 ?쒖옉 ?섏씠吏** (Frontend)
   - `trend-video-frontend/src/app/page.tsx`
   - ?ъ슜?먭? 吏곸젒 誘몃뵒?대? ?낅줈?쒗븯??UI

2. **?먮룞???ㅼ?以꾨윭** (Frontend)
   - `trend-video-frontend/src/lib/automation-scheduler.ts`
   - ?먮룞???쒖뒪?쒖뿉???ㅼ?以꾨맂 ?곸긽 ?앹꽦

3. **諛깆뿏??API** (Frontend API Routes)
   - `trend-video-frontend/src/app/api/generate-video-upload/route.ts`
   - 1踰덇낵 2踰덉씠 ?몄텧?섎뒗 怨듯넻 API

### ??3媛쒓? ?명듃?멸??

```
?뚢???????????????????
??page.tsx        ????FormData濡??꾩넚
??(?곸긽 ?쒖옉 UI)  ??   (thumbnailFile ?ы븿)
?붴?????????р??????????
         ??
         ?쒋???????????????????????
         ??                    ??
         ??                    ??
?뚢??????????????????????????   ?뚢????????????????????????????
??generate-video-upload  ?귘넀?????automation-scheduler.ts  ??
??/route.ts              ??   ??(?먮룞???ㅼ?以꾨윭)        ??
??                       ??   ??JSON?쇰줈 ?꾩넚            ??
??怨듯넻 API               ??   ??(useThumbnailFromFirstImage ?ы븿)
?붴??????????????????????????   ?붴????????????????????????????
```

### ?섏젙 ?덉떆: ?몃꽕??遺꾨━ 湲곕뒫

**蹂寃??ы빆:**
- ?ъ씠 2媛??댁긽????泥?踰덉㎏ ?대?吏瑜??몃꽕???꾩슜?쇰줈 遺꾨━

**?섏젙???뚯씪:**

1. ??`page.tsx` (line 5335-5359)
   ```typescript
   // 泥?踰덉㎏ ?대?吏 李얘린
   const firstImageIndex = allMediaFiles.findIndex(f => f.mediaType === 'image');
   if (firstImageIndex !== -1) {
     thumbnailFile = allMediaFiles[firstImageIndex];
     // FormData??蹂꾨룄濡?異붽?
     formData.append('thumbnail', thumbnailFile);
   }
   ```

2. ??`automation-scheduler.ts` (line 540-560)
   ```typescript
   // ?먮룞?? scene_0 ?대?吏瑜??몃꽕?쇰줈 ?ъ슜
   let useThumbnailFromFirstImage = false;
   if (sceneCount >= 2 && hasUploadedImages && imageFiles.length > 0) {
     const firstFile = sortedImages[0];
     if (firstFile && /scene_0.*\.(png|jpg|jpeg|webp)$/i.test(firstFile)) {
       useThumbnailFromFirstImage = true;
     }
   }
   // requestBody???뚮옒洹?異붽?
   requestBody.useThumbnailFromFirstImage = useThumbnailFromFirstImage;
   ```

3. ??`route.ts` (line 36-37, 96, 274-275, 310-311, 403-433)
   ```typescript
   // ?뚮씪誘명꽣 異붽?
   let thumbnailFile: File | null = null;
   let useThumbnailFromFirstImage: boolean = false;

   // FormData?먯꽌 ?몃꽕???뚯씪 諛쏄린
   thumbnailFile = formDataGeneral.get('thumbnail') as File | null;

   // JSON?먯꽌 ?뚮옒洹?諛쏄린
   useThumbnailFromFirstImage = body.useThumbnailFromFirstImage || false;

   // ?몃꽕???뚯씪 泥섎━ 濡쒖쭅
   if (config.thumbnailFile) {
     // ?쇰컲 ?붿껌: FormData?먯꽌 諛쏆? ?몃꽕?????
     await fs.writeFile(thumbnailPath, buffer);
   } else if (config.useThumbnailFromFirstImage && config.scriptId) {
     // ?먮룞?? 泥?踰덉㎏ ?대?吏瑜??몃꽕?쇰줈 蹂듭궗
     await fs.copyFile(sourcePath, thumbnailPath);
   }
   ```

### ???섎せ???щ?

**?섎굹留??섏젙:**
```
??page.tsx留??섏젙 ???곸긽 ?쒖옉? ?섏?留??먮룞?붽? ????
??automation-scheduler.ts留??섏젙 ???먮룞?붾쭔 ?섍퀬 ?섎룞 ?쒖옉??????
??route.ts留??섏젙 ???꾨줎?몄뿏?쒖뿉???꾨떖?섏? ?딆븘 臾댁쓽誘?
```

### ???щ컮瑜??щ?

**3媛?紐⑤몢 ?섏젙:**
```
??page.tsx: ?몃꽕???뚯씪??FormData??異붽?
??automation-scheduler.ts: useThumbnailFromFirstImage ?뚮옒洹??꾨떖
??route.ts: ??媛吏 耳?댁뒪瑜?紐⑤몢 泥섎━
   ??寃곌낵: ?곸긽 ?쒖옉怨??먮룞??紐⑤몢 ?뺤긽 ?묐룞
```

### 而댄룷?뚰듃 ?듭씪 洹쒖튃

**?대?吏 ?낅줈??諛뺤뒪????而댄룷?뚰듃濡??듭씪:**

?꾩옱 ?대?吏 ?낅줈??UI媛 3怨녹뿉 以묐났?섏뼱 ?덈떎硫?
- ??媛곴컖 蹂꾨룄 肄붾뱶濡?援ы쁽
- ??怨듯넻 而댄룷?뚰듃濡?異붿텧

**沅뚯옣 援ъ“:**
```typescript
// components/MediaUploadBox.tsx
export function MediaUploadBox({
  onUpload,
  accept = "image/*,video/*",
  maxFiles = 10
}) {
  // ?쒕옒洹몄븻?쒕∼, ?뚯씪 ?좏깮, ?뺣젹 湲곕뒫
  return <div>...</div>;
}

// ?ъ슜泥?
import { MediaUploadBox } from '@/components/MediaUploadBox';

// page.tsx (?곸긽 ?쒖옉)
<MediaUploadBox onUpload={handleMediaUpload} />

// automation page (?먮룞???낅줈??
<MediaUploadBox onUpload={handleAutomationUpload} />
```

### 泥댄겕由ъ뒪??

**誘몃뵒??泥섎━ ?섏젙 ??諛섎뱶???뺤씤:**

- [ ] `page.tsx` ?섏젙 ?꾨즺
- [ ] `automation-scheduler.ts` ?섏젙 ?꾨즺
- [ ] `generate-video-upload/route.ts` ?섏젙 ?꾨즺
- [ ] 3媛??뚯씪 紐⑤몢 而ㅻ컠
- [ ] ?뚯뒪?? ?곸긽 ?쒖옉 ?섏씠吏?먯꽌 ?뺤긽 ?묐룞
- [ ] ?뚯뒪?? ?먮룞???ㅼ?以꾩뿉???뺤긽 ?묐룞

---

## 2. ?뚯씪 ?뺣젹 洹쒖튃

### ?렞 ?듭떖 洹쒖튃

**紐⑤뱺 ?대?吏/?곸긽 ?뺣젹:**
1. ???쒗??踰덊샇 ?곗꽑 (01, 02, 03...)
2. ???쒗???놁쑝硫?lastModified ?ㅻ옒????
3. ???몃꽕?쇱? ?쒗???쒖씪 ???먮뒗 ?ㅻ옒??寃?1??

### ?뺣젹 濡쒖쭅

**?꾩튂:** `trend-video-frontend/src/app/api/generate-video-upload/route.ts`

```typescript
const extractSequenceNumber = (filename: string): number | null => {
  const startMatch = filename.match(/^(\d+)\./);
  if (startMatch) return parseInt(startMatch[1], 10);

  const seqMatch = filename.match(/[_-](\d{1,3})\./);
  if (seqMatch) return parseInt(seqMatch[1], 10);

  const parenMatch = filename.match(/\((\d+)\)/);
  if (parenMatch && !filename.match(/[_-]\w{8,}/)) {
    return parseInt(parenMatch[1], 10);
  }

  return null;
};

imageFiles.sort((a, b) => {
  const numA = extractSequenceNumber(a.name);
  const numB = extractSequenceNumber(b.name);

  if (numA !== null && numB !== null) return numA - numB;
  if (numA !== null) return -1;
  if (numB !== null) return 1;
  return a.lastModified - b.lastModified;
});
```

### ?곸슜 ?꾩튂
- `generate-video-upload/route.ts` (濡깊뤌/?륂뤌 ?대?吏)
- `sora2-upload/route.ts` (SORA2 ?낅줈??
- `content.ts` `getSceneVideos()` (???곸긽)

---

## 3. ?먮쭑 ?깊겕 ?쒖뒪??

### ?렞 ?듭떖 ?먮━

**臾몄젣:** 湲곗〈 鍮꾨뵒??湲몄씠? ???먮쭑 湲몄씠媛 ?ㅻ? ???깊겕 留욎텛湲?

**?닿껐:**
1. 湲곗〈 鍮꾨뵒???꾩껜 湲몄씠 ?뚯븙
2. ???먮쭑??珥?湲몄씠 怨꾩궛
3. 鍮꾩쑉(ratio) = 鍮꾨뵒??湲몄씠 / ?먮쭑 湲몄씠
4. 媛??먮쭑 ?멸렇癒쇳듃??ratio ?곸슜

### 援ы쁽 ?덉떆

**?꾩튂:** `trend-video-backend/src/utils/subtitle_utils.py`

```python
def adjust_subtitle_timing(srt_path: str, target_duration: float):
    """?먮쭑 ??대컢??target_duration??留욎떠 議곗젙"""
    segments = parse_srt(srt_path)

    # 留덉?留??먮쭑??end ?쒓컙 = ?먮낯 ?먮쭑 ?꾩껜 湲몄씠
    last_end = segments[-1]['end']

    # 鍮꾩쑉 怨꾩궛
    ratio = target_duration / last_end

    # 媛??멸렇癒쇳듃 ?쒓컙 議곗젙
    for seg in segments:
        seg['start'] *= ratio
        seg['end'] *= ratio

    write_srt(srt_path, segments)
```

### ?곸슜 耳?댁뒪
- `regenerate_video.py`: ?곸긽 ?ъ깮?????먮쭑 議곗젙
- `create_video_from_folder.py`: 濡깊뤌/?륂뤌 ?앹꽦 ???먮쭑 ?깊겕
- `create_video_from_sora2.py`: SORA2 鍮꾨뵒???먮쭑 泥섎━

---

## 4. 鍮꾨뵒??蹂묓빀 ?뚰겕?뚮줈??

### ?렞 ?듭떖 ?꾨줈?몄뒪

```
1. ?щ퀎 鍮꾨뵒???앹꽦 ??scenes/scene_001.mp4, scene_002.mp4
2. ?먮쭑 ?앹꽦 ??subtitles/scene_001.srt, scene_002.srt
3. ?먮쭑 ?깊겕 議곗젙 (媛???鍮꾨뵒??湲몄씠??留욎땄)
4. 鍮꾨뵒?ㅼ뿉 ?먮쭑 ?섎뱶肄붾뵫 ??scenes_with_subs/scene_001.mp4
5. concat.txt ?앹꽦
6. FFmpeg concat demuxer濡?蹂묓빀 ??final_output.mp4
```

### 蹂묓빀 肄붾뱶

**?꾩튂:** `trend-video-backend/src/create_video_from_folder.py`

```python
def merge_videos_with_concat(video_paths: List[Path], output_path: Path):
    """concat demuxer濡?鍮꾨뵒??蹂묓빀 (re-encoding ?놁쓬)"""
    concat_file = output_path.parent / 'concat.txt'

    # concat.txt ?앹꽦
    with open(concat_file, 'w', encoding='utf-8') as f:
        for video in video_paths:
            f.write(f"file '{video.absolute()}'\n")

    # FFmpeg concat
    subprocess.run([
        'ffmpeg', '-f', 'concat', '-safe', '0',
        '-i', str(concat_file), '-c', 'copy', str(output_path)
    ], check=True)
```

### 二쇱쓽?ы빆
- ??concat demuxer ?ъ슜 (鍮좊쫫, 臾댁넀??
- ??filter_complex ?ъ슜 湲덉? (?먮┝, ?덉쭏 ?먯떎)
- ???먮쭑 ?섎뱶肄붾뵫? 蹂묓빀 ?꾩뿉 ?섑뻾

---

## 5. Regression Test

### ?렞 **?꾩닔 洹쒖튃: 肄붾뱶 ?꾨즺 ???뚯뒪???ㅽ뻾** 狩?

**紐⑤뱺 肄붾뱶 ?섏젙 ??**
1. ???섎룞 ?뚯뒪?몃쭔 ?섍퀬 ?꾨즺 蹂닿퀬 湲덉?
2. ???먮룞?붾맂 regression test ?묒꽦 諛??ㅽ뻾
3. ???쒕쾭 濡쒓렇 ?뺤씤?섏뿬 ?ㅼ젣 ?숈옉 寃利?
4. ???뚯뒪???듦낵 ?꾩뿉留??꾨즺 蹂닿퀬

### AI ?먮룞 ?뚯뒪???꾨줈?몄뒪 (?꾩닔) 狩?

**?④퀎蹂??꾨줈?몄뒪:**
```
1. 肄붾뱶 ?섏젙
   ??
2. 由ш렇?덉뀡 ?뚯뒪???묒꽦 (test-*.js)
   ??
3. ?뚯뒪???ㅽ뻾
   ??
4. ?쒕쾭 濡쒓렇 ?뺤씤 (trend-video-frontend/logs/server.log)
   ?쒋? ?깃났: ?꾨즺 蹂닿퀬
   ?붴? ?ㅽ뙣: ?ъ떆??(理쒕? 5??
       ?쒋? 5?????깃났: ?꾨즺 蹂닿퀬
       ?붴? 5???ㅽ뙣: ?ъ슜?먯뿉寃??곸꽭 由ы룷??
```

**?ъ떆??洹쒖튃:**
- 理쒕? 5???쒕룄
- 媛??쒕룄留덈떎 濡쒓렇 遺꾩꽍 諛??먯씤 ?뚯븙
- ?ㅽ뙣 ?먯씤???곕씪 肄붾뱶 ?섏젙 ???ы뀒?ㅽ듃
- 5???ㅽ뙣 ??諛섎뱶???ъ슜?먯뿉寃?由ы룷??
  - ?쒕룄???섏젙 ?댁뿭
  - 媛??쒕룄???ㅽ뙣 ?먯씤
  - ?꾩옱 ?곹깭 諛?異붽? ?뺣낫 ?꾩슂 ?щ?

**?뚯뒪???묒꽦 媛?대뱶:**
```javascript
// ?덉떆: test-automation-folder-path.js
const fs = require('fs');
const path = require('path');

let testResults = { passed: 0, failed: 0, tests: [] };

function addTestResult(name, passed, message) {
  testResults.tests.push({ name, passed, message });
  if (passed) {
    testResults.passed++;
    console.log(`??${name}: ${message}`);
  } else {
    testResults.failed++;
    console.error(`??${name}: ${message}`);
  }
}

async function runTests() {
  console.log('?㎦ [?뚯뒪?몃챸] ?쒖옉\n');

  // ?뚯뒪??1: 肄붾뱶 蹂寃??뺤씤
  const routeContent = fs.readFileSync('path/to/file.ts', 'utf-8');
  const hasExpectedChange = routeContent.includes('expected-code');
  addTestResult('肄붾뱶 蹂寃?, hasExpectedChange, '蹂寃쎌궗???뺤씤');

  // ?뚯뒪??2: 濡쒖쭅 寃利?
  const result = yourLogic('input');
  addTestResult('濡쒖쭅 寃利?, result === 'expected', '濡쒖쭅 ?뺤긽');

  // ?뚯뒪??3: ?쒕쾭 濡쒓렇 ?뺤씤 (以묒슂!)
  const logPath = path.join(__dirname, 'trend-video-frontend', 'logs', 'server.log');
  if (fs.existsSync(logPath)) {
    const logContent = fs.readFileSync(logPath, 'utf-8');
    const hasError = logContent.includes('??) || logContent.includes('Error:');
    addTestResult('?쒕쾭 濡쒓렇', !hasError, hasError ? '?먮윭 諛쒓껄' : '?뺤긽');
  }

  // 寃곌낵 異쒕젰
  console.log(`\n???듦낵: ${testResults.passed}/${testResults.tests.length}`);
  process.exit(testResults.failed === 0 ? 0 : 1);
}

runTests();
```

**?ㅽ뻾:**
```bash
node test-your-feature.js
# Exit code 0: ?듦낵
# Exit code 1: ?ㅽ뙣
```

### ?쒕쾭 濡쒓렇 愿由?

**濡쒓렇 ?뚯씪 ?꾩튂:**
```
trend-video-frontend/logs/server.log
```

**?쒕쾭 ?쒖옉 ??濡쒓렇 ?ㅼ젙:**
```bash
# 媛쒕컻 ?쒕쾭 ?쒖옉 (濡쒓렇 ?먮룞 ???
cd trend-video-frontend
npm run dev 2>&1 | tee -a logs/server.log
```

**濡쒓렇 ?뺤씤 紐낅졊??**
```bash
# 理쒓렐 濡쒓렇 ?뺤씤
tail -100 trend-video-frontend/logs/server.log

# ?먮윭留??꾪꽣留?
grep -E "??Error|Failed" trend-video-frontend/logs/server.log

# ?뱀젙 ?⑦꽩 寃??
grep "?곸긽 ?쒖옉" trend-video-frontend/logs/server.log
```

**AI媛 濡쒓렇瑜??뺤씤?댁빞 ?섎뒗 ?쒖젏:**
1. ???뚯뒪???ㅽ뻾 吏곹썑
2. ??API ?몄텧 ??
3. ??Python ?꾨줈?몄뒪 ?ㅽ뻾 ??
4. ???먮윭 諛쒖깮 ??

**濡쒓렇 寃利??덉떆:**
```javascript
// ?쒕쾭 濡쒓렇?먯꽌 ?깃났 ?щ? ?뺤씤
function checkServerLogs(featureName) {
  const logPath = path.join(__dirname, 'trend-video-frontend', 'logs', 'server.log');
  const logContent = fs.readFileSync(logPath, 'utf-8');
  const recentLogs = logContent.split('\n').slice(-200).join('\n');

  // ?뱀젙 ?⑦꽩 ?뺤씤
  const hasSuccess = recentLogs.includes(`??${featureName}`);
  const hasError = recentLogs.includes(`??${featureName}`) ||
                   recentLogs.match(new RegExp(`${featureName}.*Error`, 'i'));

  return { success: hasSuccess && !hasError, logs: recentLogs };
}
```

---

### Backend Tests

**?꾩튂:** `trend-video-backend/tests/test_regression.py`

```bash
# ?꾩껜 ?뚯뒪??
pytest tests/test_regression.py -v

# 媛쒕퀎 ?뚯뒪??
pytest tests/test_regression.py::test_longform_generation -v
pytest tests/test_regression.py::test_shortform_generation -v
pytest tests/test_regression.py::test_sora2_generation -v
```

**?깃났 湲곗?:**
- ???꾨줈?몄뒪 ?뺤긽 醫낅즺 (exit code 0)
- ??異쒕젰 鍮꾨뵒???뚯씪 ?앹꽦
- ??鍮꾨뵒???ъ깮 媛??(ffprobe ?뺤씤)
- ??濡쒓렇 ?먮윭 ?놁쓬

### Frontend Tests

**?꾩튂:** `trend-video-frontend/__tests__/`

```bash
cd trend-video-frontend

# ?꾩껜 ?뚯뒪??
npm test

# 媛쒕퀎 ?뚯뒪??
npm test file-sorting
npm test json-title-extraction

# 而ㅻ쾭由ъ?
npm test -- --coverage
```

**?뚯뒪?????**
- ?뚯씪 ?뺣젹 濡쒖쭅 (?쒗???몄떇)
- JSON ?쒕ぉ 異붿텧 諛?寃利?

---

## 6. ?꾨줎?몄뿏??諛깆뿏???꾪궎?띿쿂

### ?렞 ?듭떖 ?먯튃

**?꾨줎?몄뿏??(Next.js):**
- DB ?묎렐 (SQLite)
- ?묒뾽 愿由?(?? ?곹깭)
- Python ?꾨줈?몄뒪 ?ㅽ뻾

**諛깆뿏??(Python):**
- 鍮꾨뵒???앹꽦 濡쒖쭅
- AI 泥섎━ (DALL-E, Claude)
- FFmpeg ?묒뾽

### ?묒뾽 ?먮쫫

```
1. ?꾨줎?몄뿏?? ?묒뾽 ?앹꽦 ??DB ???
2. ?꾨줎?몄뿏?? Python ?ㅽ겕由쏀듃 ?ㅽ뻾
3. 諛깆뿏?? 鍮꾨뵒???앹꽦
4. ?꾨줎?몄뿏?? ?묒뾽 ?꾨즺 媛먯? ??DB ?낅뜲?댄듃
```

---

## 7. ?몄쬆 援ы쁽

### ??沅뚯옣: httpOnly 荑좏궎

**?꾨줎?몄뿏??**
```typescript
// 濡쒓렇??
const response = await fetch('/api/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ email, password })
});
// sessionId??荑좏궎濡??먮룞 ??λ맖
```

**諛깆뿏??**
```typescript
// ?몄뀡 荑좏궎 ?ㅼ젙
response.cookies.set('sessionId', sessionId, {
  httpOnly: false, // 媛쒕컻: false, ?꾨줈?뺤뀡: true
  secure: false,   // 媛쒕컻: false, ?꾨줈?뺤뀡: true
  sameSite: 'lax',
  maxAge: 7 * 24 * 60 * 60, // 7??
  path: '/'
});
```

### ??鍮꾧텒?? localStorage + Authorization ?ㅻ뜑

蹂댁븞 痍⑥빟???뚮Ц???ъ슜 湲덉?

---

## 8. 珥덇린 濡쒕뵫 理쒖쟻??

### ?렞 ?꾨왂

**??踰덉뿉 紐⑤뱺 ?곗씠??濡쒕뵫:**
```typescript
// app/api/content/route.ts
export async function GET() {
  return NextResponse.json({
    videos: getAllVideos(),
    scripts: getAllScripts(),
    products: getAllProducts()
  });
}
```

**?대씪?댁뼵??罹먯떛:**
```typescript
const [allData, setAllData] = useState(null);

useEffect(() => {
  fetch('/api/content')
    .then(res => res.json())
    .then(setAllData);
}, []);
```

### ?④낵
- ??珥덇린 濡쒕뵫 1?뚮쭔
- ?????꾪솚 利됱떆
- ??遺덊븘?뷀븳 API ?몄텧 ?쒓굅

---

## 9. ?대쭅 理쒖냼??

### ?렞 洹쒖튃

**?대쭅 ?ъ슜 議곌굔:**
- ?묒뾽??吏꾪뻾 以묒씪 ?뚮쭔
- ?묒뾽 ?꾨즺 ??利됱떆 以묒?

```typescript
useEffect(() => {
  if (!hasRunningJobs()) {
    return; // ?대쭅 ????
  }

  const interval = setInterval(async () => {
    await fetchStatus();
    if (!hasRunningJobs()) {
      clearInterval(interval);
    }
  }, 2000);

  return () => clearInterval(interval);
}, [hasRunningJobs()]);
```

### ?④낵
- ???쒕쾭 遺??媛먯냼
- ???ㅽ듃?뚰겕 ?몃옒??媛먯냼

---

## 10. 濡쒓렇 愿由?

### 援ъ“

```sql
-- contents ?뚯씠釉?
CREATE TABLE contents (
  id TEXT PRIMARY KEY,
  status TEXT,
  type TEXT
);

-- content_logs ?뚯씠釉?(1:N 愿怨?
CREATE TABLE content_logs (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  content_id TEXT,
  log_message TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (content_id) REFERENCES contents(id) ON DELETE CASCADE
);
```

### 濡쒓렇 異붽?

```typescript
export function addContentLog(contentId: string, logMessage: string) {
  // contentId 議댁옱 ?뺤씤 (FOREIGN KEY ?먮윭 諛⑹?)
  const exists = db.prepare('SELECT id FROM contents WHERE id = ?').get(contentId);
  if (!exists) {
    console.warn(`Content ${contentId} does not exist, skipping log`);
    return;
  }

  db.prepare('INSERT INTO content_logs (content_id, log_message) VALUES (?, ?)')
    .run(contentId, logMessage);
}
```

### ?뵇 濡쒓렇 ?뚯씪 ?꾩튂 (臾몄젣 諛쒖깮 ??

**?꾨줎?몄뿏???쒕쾭 濡쒓렇:**
```
C:\Users\oldmoon\workspace\trend-video-frontend\logs\server.log
```

**濡쒓렇 ?뺤씤 諛⑸쾿:**
```bash
# Git Bash?먯꽌 (沅뚯옣 - ?쒓? ?뺤긽 ?쒖떆)
tail -f trend-video-frontend/logs/server.log

# ?⑥텞 紐낅졊??(Git Bash?먯꽌 ?대뵒?쒕뱺 ?ъ슜 媛??
tlog

# PowerShell?먯꽌 (UTF-8 ?몄퐫???꾩닔)
Get-Content -Path trend-video-frontend\logs\server.log -Encoding UTF8 -Tail 50 -Wait
```

**?⑥텞 紐낅졊???ㅼ젙:**

Git Bash (`~/.bashrc`??異붽???:
```bash
alias tlog='tail -f /c/Users/oldmoon/workspace/trend-video-frontend/logs/server.log'
```

PowerShell (`$PROFILE`??異붽???:
```powershell
function tlog {
    Get-Content -Path C:\Users\oldmoon\workspace\trend-video-frontend\logs\server.log -Encoding UTF8 -Tail 50 -Wait
}
```

**?⑥텞 紐낅졊???곸슜:**
- Git Bash: ???곕????닿굅??`source ~/.bashrc`
- PowerShell: ???곕????닿굅??`. $PROFILE`

**?좑툘 臾몄젣 諛쒖깮 ??濡쒓렇 ?뺤씤:**
- ?먮윭 濡쒓렇??**媛???꾨옒遺??* ?뺤씤
- 理쒖떊 ?먮윭媛 ?뚯씪 ?앹뿉 異붽???
- ?ㅽ깮?몃젅?댁뒪 ?꾩껜瑜??뺤씤?섏뿬 ?먯씤 ?뚯븙

**濡쒓렇 ?뚯씪 ?몄퐫??**
- UTF-8 ?몄퐫???ъ슜
- ?쒓? 源⑥쭚 ??PowerShell ?몄퐫???ㅼ젙 ?뺤씤:
  ```powershell
  [Console]::OutputEncoding = [System.Text.Encoding]::UTF8
  ```

---

## 11. UI/UX ?쇨???

### ?렞 ?듭떖 洹쒖튃

1. **踰꾪듉 媛쒖닔 怨좎젙**
   - ?곸긽 移대뱶: 9媛?踰꾪듉 (議곌굔遺 ?쒖쇅)
   - ?蹂?移대뱶: 12媛?踰꾪듉 (議곌굔遺 ?쒖쇅)

2. **踰꾪듉 ?쒖꽌 怨좎젙**
   - ?곸긽: YouTube ?낅줈?????쎌뼱蹂닿린 ??... ????젣
   - ?蹂? ?蹂????쎌뼱蹂닿린 ??... ????젣

3. **踰꾪듉 ?⑤뵫 ?듭씪**
   - 紐⑤뱺 踰꾪듉: `px-3 py-1.5`
   - ?쇨????쒓컖???덉씠?꾩썐

4. **??媛??쇨???*
   - ?꾩껜 ???곸긽 = ?곸긽 ??
   - ?꾩껜 ???蹂?= ?蹂???

---

## 12. API ?먮윭 泥섎━

### ?렞 ?쒖? ?⑦꽩

```typescript
export async function POST(request: NextRequest) {
  try {
    // ?묒뾽 ?섑뻾
    return NextResponse.json({ success: true });
  } catch (error: any) {
    console.error('API Error:', error);
    return NextResponse.json(
      { error: error.message || 'Internal Server Error' },
      { status: 500 }
    );
  }
}
```

### ?꾨줎?몄뿏??泥섎━

```typescript
const response = await fetch('/api/endpoint', { method: 'POST' });
const data = await response.json();

if (!response.ok) {
  alert(`?먮윭: ${data.error}`);
  return;
}
```

---

## 13. 諛깃렇?쇱슫???꾨줈?몄뒪 以묒?

### ?렞 ?댁쨷 蹂댄샇 硫붿빱?덉쬁

**1. 痍⑥냼 ?뚮옒洹?(Graceful Shutdown)**

?꾨줎?몄뿏??
```typescript
const cancelFilePath = path.join(backendPath, 'input', jobFolder, '.cancel');
await fs.writeFile(cancelFilePath, 'cancelled by user');
```

諛깆뿏??
```python
cancel_file = self.folder_path / '.cancel'
if cancel_file.exists():
    raise KeyboardInterrupt("User cancelled")
```

**2. ?꾨줈?몄뒪 ?몃━ 媛뺤젣 醫낅즺 (Force Kill)**

```typescript
import kill from 'tree-kill';

await new Promise<void>((resolve, reject) => {
  kill(pid, 'SIGKILL', (err) => {
    if (err) reject(err);
    else resolve();
  });
});

// Windows 醫鍮??꾨줈?몄뒪 ?뺣━
if (process.platform === 'win32') {
  await execAsync('taskkill /F /FI "IMAGENAME eq python.exe"');
}
```

### ?ㅽ뻾 ?쒖꽌
1. 痍⑥냼 ?뚮옒洹??앹꽦
2. 2珥??湲?(graceful shutdown 湲고쉶)
3. tree-kill ?ㅽ뻾
4. Windows 醫鍮??꾨줈?몄뒪 ?뺣━

---

## 14. 踰꾪듉 諛곗튂 洹쒖튃

### ?곸긽 移대뱶 踰꾪듉 ?쒖꽌

```
1. YouTube ?낅줈??
2. ?쎌뼱蹂닿린 (sourceContentId ?덉쓣 ??
3. ?대?吏?щ·留?
4. 濡쒓렇 (logs ?덉쓣 ??
5. ?대뜑 (愿由ъ옄 ?꾩슜)
6. ???
7. ?쇱툩 (濡깊뤌 ??낅쭔)
8. ?ъ떆??
9. ??젣
```

### ?蹂?移대뱶 踰꾪듉 ?쒖꽌

```
1. ?蹂?
2. ?쎌뼱蹂닿린
3. ?대?吏?щ·留?
4. ?곸긽
5. ?щĸ??
6. 蹂듭궗
7. 濡쒓렇 (logs ?덉쓣 ??
8. ???
9. 蹂??(longform/shortform留?
10. ?곹뭹?뺣낫 (product留?
11. ?ъ떆??
12. ??젣
```

### 踰꾪듉 洹몃９ 援щ텇

**?곸긽:**
- **蹂닿린**: ?쎌뼱蹂닿린, 濡쒓렇, ?대뜑
- **?쒖옉/?낅줈??*: YouTube ?낅줈??
- **?몄쭛**: ?대?吏?щ·留? ??? ?쇱툩, ?ъ떆?? ??젣

**?蹂?**
- **蹂닿린**: ?蹂? ?쎌뼱蹂닿린, 濡쒓렇
- **?쒖옉**: ?대?吏?щ·留? ?곸긽, ?곹뭹?뺣낫
- **?몄쭛**: 蹂듭궗, ?щĸ?? ??? 蹂?? ?ъ떆?? ??젣

### 援щ텇??

```tsx
<div className="w-px h-8 bg-slate-600"></div>
```

---

## 15. API ?뚯뒪???꾨줈?몄뒪

### ?렞 ?듭떖 ?먯튃

**?덈? ?뚯뒪???놁씠 ?꾨즺?섏? ?딅뒗??*
- 肄붾뱶 ?묒꽦 ??諛섎뱶???ㅼ젣 ?뚯뒪???섑뻾
- ?쒕쾭 濡쒓렇瑜??뺤씤?섏뿬 ?묐떟 寃利?
- ??꾩뒪?ы봽濡??붿껌-?묐떟 留ㅼ묶

### API ?뚯뒪??諛⑸쾿

**1. ?뚯뒪???ㅽ겕由쏀듃 ?묒꽦**

```javascript
// test-api.js
const fetch = require('node-fetch');

const API_URL = 'http://localhost:3000/api/endpoint';

fetch(API_URL, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ key: 'value' })
})
  .then(res => res.json())
  .then(data => {
    console.log('???깃났:', data);
  })
  .catch(error => {
    console.error('???먮윭:', error.message);
  });
```

**2. ?ㅽ뻾 諛?濡쒓렇 ?뺤씤**

```bash
# ?뚯뒪???ㅽ뻾
node test-api.js

# ?쒕쾭 濡쒓렇 ?뺤씤 (蹂꾨룄 ?곕???
tail -30 trend-video-frontend/logs/server.log
```

**3. ?묐떟 寃利?*

?쒕쾭 濡쒓렇?먯꽌 ?뺤씤???ы빆:
- ?붿껌 ?쒓컙怨??묐떟 ?쒓컙 留ㅼ묶
- HTTP ?곹깭 肄붾뱶 (200, 400, 500 ??
- ?먮윭 硫붿떆吏 諛??ㅽ깮?몃젅?댁뒪
- ?ㅼ젣 ?묐떟 ?곗씠??

### 荑좏뙜 API ?뚯뒪???덉떆

**?뚯뒪???ㅽ겕由쏀듃:** `test-coupang-api.js`

```javascript
const crypto = require('crypto');

const accessKey = 'YOUR_ACCESS_KEY';
const secretKey = 'YOUR_SECRET_KEY';

// Datetime format: yymmddTHHMMSSZ
const now = new Date();
const year = String(now.getUTCFullYear()).slice(-2);
const month = String(now.getUTCMonth() + 1).padStart(2, '0');
const day = String(now.getUTCDate()).padStart(2, '0');
const hours = String(now.getUTCHours()).padStart(2, '0');
const minutes = String(now.getUTCMinutes()).padStart(2, '0');
const seconds = String(now.getUTCSeconds()).padStart(2, '0');
const datetime = `${year}${month}${day}T${hours}${minutes}${seconds}Z`;

// Message: datetime + method + path (no spaces)
const REQUEST_METHOD = 'GET';
const URL = '/v2/providers/affiliate_open_api/apis/openapi/v1/products/bestcategories/1001';
const message = datetime + REQUEST_METHOD + URL;

// HMAC signature
const signature = crypto
  .createHmac('sha256', secretKey)
  .update(message)
  .digest('hex');

// Authorization header (spaces after commas)
const authorization = `CEA algorithm=HmacSHA256, access-key=${accessKey}, signed-date=${datetime}, signature=${signature}`;

console.log('?뵍 ?몄쬆 ?뺣낫:');
console.log('   datetime:', datetime);
console.log('   message:', message);
console.log('   signature:', signature);

// API ?몄텧
fetch('https://api-gateway.coupang.com' + URL, {
  method: REQUEST_METHOD,
  headers: {
    'Authorization': authorization,
    'Content-Type': 'application/json'
  }
})
  .then(response => {
    console.log('?뱻 ?묐떟 ?곹깭:', response.status);
    return response.text().then(text => ({ status: response.status, text, ok: response.ok }));
  })
  .then(({ status, text, ok }) => {
    console.log('?벀 ?묐떟 蹂몃Ц:', text);
    if (ok) {
      console.log('???깃났!');
    } else {
      console.error('???ㅽ뙣:', status);
    }
  })
  .catch(error => {
    console.error('???먮윭:', error.message);
  });
```

**?ㅽ뻾:**
```bash
node test-coupang-api.js
```

**?깃났 ?묐떟 ?덉떆:**
```
?뱻 ?묐떟 ?곹깭: 200
?벀 ?묐떟 蹂몃Ц: {"rCode":"0","rMessage":"?깃났","data":[...]}
???깃났!
```

### ?쒕쾭 濡쒓렇 遺꾩꽍

**濡쒓렇 ?뺤씤 ??二쇱쓽?ы빆:**

1. **?쒓컙 留ㅼ묶**: ?뚯뒪???ㅽ뻾 ?쒓컙怨?濡쒓렇 ??꾩뒪?ы봽 ?뺤씤
2. **?붿껌 ?뺣낫**: HTTP 硫붿꽌?? URL, ?뚮씪誘명꽣
3. **?묐떟 ?뺣낫**: ?곹깭 肄붾뱶, ?묐떟 蹂몃Ц
4. **?먮윭 異붿쟻**: ?ㅽ깮?몃젅?댁뒪, ?먮윭 硫붿떆吏

**?덉떆:**
```
[2025-11-14 16:58:13] ?뵇 Coupang API Test - ?붿껌 諛쏆쓬
[2025-11-14 16:58:13]    accessKey: 8943cf3b-8...
[2025-11-14 16:58:13]    secretKey: provided
[2025-11-14 16:58:13] ?뵍 ?몄쬆 ?뺣낫:
[2025-11-14 16:58:13]    datetime: 251114T075813Z
[2025-11-14 16:58:13]    message: 251114T075813ZGET/v2/providers/...
[2025-11-14 16:58:13] ?뙋 荑좏뙜 API ?몄텧 ?쒖옉: https://api-gateway.coupang.com/...
[2025-11-14 16:58:14] ?뱻 荑좏뙜 API ?묐떟 ?곹깭: 200
[2025-11-14 16:58:14] ??荑좏뙜 API ?깃났: {"rCode":"0",...}
```

### ?섏젙 ?ъ씠??

```
1. 肄붾뱶 ?묒꽦
2. ?뚯뒪???ㅽ겕由쏀듃 ?묒꽦
3. ?뚯뒪???ㅽ뻾
4. ?쒕쾭 濡쒓렇 ?뺤씤
5. ?먮윭 諛쒓껄 ????肄붾뱶 ?섏젙 ??2踰덉쑝濡?
6. ?깃났 ?????꾨즺
```

**???섎せ??諛⑸쾿:**
- 肄붾뱶留??묒꽦?섍퀬 "?꾨즺?섏뿀?듬땲?? 蹂닿퀬
- 濡쒓렇 ?뺤씤 ?놁씠 異붿륫?쇰줈 臾몄젣 ?닿껐
- ?щ윭 踰??쒗뻾李⑹삤 ???ш린

**???щ컮瑜?諛⑸쾿:**
- ?뚯뒪???ㅽ겕由쏀듃濡??ㅼ젣 ?ㅽ뻾
- 濡쒓렇?먯꽌 ?뺥솗???먮윭 ?뺤씤
- ?먮윭 ?먯씤 遺꾩꽍 ???섏젙
- ?ы뀒?ㅽ듃濡?寃利?

---

## 17. Next.js HMR 諛??쒕쾭 ?ъ떆??狩먥춴狩?

### ?렞 ?듭떖 ?먯튃: 媛쒕컻 紐⑤뱶?먯꽌???遺遺??ъ떆??遺덊븘??

**以묒슂:** Next.js 媛쒕컻 紐⑤뱶(`npm run dev`)?먯꽌??Hot Module Replacement(HMR)媛 ?묐룞?섎?濡?**?遺遺꾩쓽 肄붾뱶 蹂寃????쒕쾭 ?ъ떆?묒씠 ?꾩슂 ?놁뒿?덈떎.**

### ???먮룞?쇰줈 諛섏쁺?섎뒗 寃껊뱾 (?ъ떆??遺덊븘??

#### 1. **?대씪?댁뼵??而댄룷?뚰듃** (`'use client'`)
```typescript
// src/app/automation/page.tsx
'use client'

export default function AutomationPage() {
  // ...
}
```

- ??**釉뚮씪?곗? ?덈줈怨좎묠留?* ?섎㈃ 利됱떆 諛섏쁺
- React Fast Refresh濡??곹깭 ?좎??섎ŉ ?낅뜲?댄듃
- ?ъ떆??遺덊븘??

#### 2. **API Routes**
```typescript
// src/app/api/*/route.ts
export async function POST(request: NextRequest) {
  // ?섏젙??肄붾뱶
}
```

- ??**?ㅼ쓬 API ?몄텧 ??* ?먮룞?쇰줈 ??肄붾뱶 ?ㅽ뻾
- ?ъ떆??遺덊븘??

#### 3. **?쒕쾭 而댄룷?뚰듃**
```typescript
// src/app/page.tsx (?쒕쾭 而댄룷?뚰듃)
export default function Page() {
  // ...
}
```

- ??**?섏씠吏 ?덈줈怨좎묠** ???먮룞 諛섏쁺
- ?ъ떆??遺덊븘??

#### 4. **lib ?뚯씪 (?遺遺?**
```typescript
// src/lib/automation.ts
export function createTitle() {
  // ?섏젙??肄붾뱶
}
```

- ??**?ㅼ쓬 import ??* ?먮룞 諛섏쁺
- ?? 硫붾え由ъ뿉 罹먯떆??寃쎌슦 ?덈줈怨좎묠 ?꾩슂
- ?ъ떆??遺덊븘??(?遺遺?

### ???ъ떆?묒씠 ?꾩슂??寃쎌슦

#### 1. **?대? ?ㅽ뻾 以묒씤 諛깃렇?쇱슫???꾨줈?몄뒪**

```typescript
// src/lib/automation-scheduler.ts
let schedulerInterval = null;

export function startAutomationScheduler() {
  // ?쒕쾭 ?쒖옉 ????踰?濡쒕뱶?섏뼱 怨꾩냽 ?ㅽ뻾??
  schedulerInterval = setInterval(() => {
    processPendingSchedules(); // ???쏅궇 肄붾뱶 怨꾩냽 ?ъ슜!
  }, checkInterval);
}
```

**臾몄젣:**
- ?ㅼ?以꾨윭???쒕쾭 ?쒖옉 ??硫붾え由ъ뿉 濡쒕뱶
- setInterval濡?怨꾩냽 ?ㅽ뻾 以?
- HMR???곸슜?섏? ?딆쓬

**?닿껐:**
```bash
pm2 restart trend-video-frontend
# ?먮뒗
npm run dev (Ctrl+C ???ъ떎??
```

#### 2. **next.config.js 蹂寃?*
```javascript
// next.config.js
module.exports = {
  experimental: {
    // ?덈줈???ㅼ젙
  }
}
```

- ??諛섎뱶???ъ떆???꾩슂
- Next.js ?ㅼ젙? ?쒕쾭 ?쒖옉 ????踰덈쭔 濡쒕뱶

#### 3. **?섍꼍 蹂??(.env) 蹂寃?*
```
# .env.local
NEW_API_KEY=abc123
```

- ??諛섎뱶???ъ떆???꾩슂
- ?섍꼍 蹂?섎뒗 ?쒕쾭 ?쒖옉 ????踰덈쭔 濡쒕뱶

#### 4. **?꾨줈?뺤뀡 鍮뚮뱶**
```bash
npm run build
npm run start
```

- ??肄붾뱶 蹂寃???諛섎뱶???щ퉴??諛??ъ떆???꾩슂
- 鍮뚮뱶???뚯씪? ?뺤쟻?대?濡?HMR ?놁쓬

### ?뱥 ?ㅼ쟾 媛?대뱶

#### ?곹솴 1: API Route ?섏젙
```typescript
// src/app/api/generate-script/route.ts ?섏젙
export async function POST(request: NextRequest) {
  const { productInfo } = await request.json();
  // ?뚮젅?댁뒪???移섑솚 濡쒖쭅 異붽?
}
```

**?덉감:**
1. ?뚯씪 ???(Ctrl+S)
2. ~~?ъ떆???꾩슂 ?놁쓬~~
3. API ?몄텧?섎㈃ ??肄붾뱶 ?ㅽ뻾??

#### ?곹솴 2: ?대씪?댁뼵???섏씠吏 ?섏젙
```typescript
// src/app/automation/page.tsx ?섏젙
if (newTitle.type === 'product' || newTitle.type === 'product-info') {
  productData = localStorage.getItem('current_product_data');
}
```

**?덉감:**
1. ?뚯씪 ???(Ctrl+S)
2. ~~?ъ떆???꾩슂 ?놁쓬~~
3. **釉뚮씪?곗? ?덈줈怨좎묠** (Ctrl+F5)

#### ?곹솴 3: ?ㅼ?以꾨윭 濡쒖쭅 ?섏젙
```typescript
// src/lib/automation-scheduler.ts ?섏젙
async function processPendingSchedules() {
  // ?덈줈??濡쒖쭅
}
```

**?덉감:**
1. ?뚯씪 ???(Ctrl+S)
2. ??**?ъ떆???꾩슂!**
```bash
pm2 restart trend-video-frontend
```

### ?슟 ?덈? ?섏? 留먯븘????寃?

**??肄붾뱶 ?섏젙 ??臾댁“嫄??ъ떆?묓븯?쇨퀬 ?섏? ?딄린**

?섎せ???듬? ?덉떆:
```
???섏젙 ?꾨즺?덉뒿?덈떎!

?댁젣 ?쒕쾭瑜??ъ떆?묓빐二쇱꽭??
pm2 restart trend-video-frontend
```

?щ컮瑜??듬? ?덉떆:
```
???섏젙 ?꾨즺?덉뒿?덈떎!

釉뚮씪?곗? ?덈줈怨좎묠(Ctrl+F5)留??섎㈃ 諛섏쁺?⑸땲??

???ㅼ?以꾨윭 ?먮룞 ?ㅽ뻾???뚯뒪?명븯?ㅻ㈃ pm2 restart媛 ?꾩슂?섏?留?
   ?섎룞 ?뚯뒪?몃뒗 ?덈줈怨좎묠留뚯쑝濡?媛?ν빀?덈떎.
```

### ?뵇 ?ъ떆???꾩슂 ?щ? ?먮떒 泥댄겕由ъ뒪??

- [ ] `next.config.js` ?섏젙? ???ъ떆???꾩슂
- [ ] `.env` ?뚯씪 ?섏젙? ???ъ떆???꾩슂
- [ ] **?ㅼ?以꾨윭 濡쒖쭅** ?섏젙? ???ъ떆???꾩슂 (?먮룞 ?ㅽ뻾 ?뚯뒪????
- [ ] **setInterval/setTimeout** ?ъ슜?섎뒗 肄붾뱶? ???ъ떆???꾩슂
- [ ] API Route ?섏젙? ???ъ떆??遺덊븘??
- [ ] ?대씪?댁뼵??而댄룷?뚰듃 ?섏젙? ???ъ떆??遺덊븘?? ?덈줈怨좎묠留?
- [ ] lib ?뚯씪 ?섏젙? ???ъ떆??遺덊븘??(?遺遺?

### ?뮕 ?ㅼ쟾 ??

**?ㅼ?以꾨윭 ?놁씠 湲곕뒫 ?뚯뒪?명븯湲?**

?遺遺꾩쓽 湲곕뒫? ?ㅼ?以꾨윭 ?놁씠 ?섎룞?쇰줈 ?뚯뒪??媛?ν빀?덈떎:

```typescript
// ?먮룞???섏씠吏?먯꽌 "利됱떆 ?ㅽ뻾" 踰꾪듉 ?대┃
// ??API留??몄텧?섎?濡??ъ떆??遺덊븘??
// ????肄붾뱶濡?諛붾줈 ?ㅽ뻾??
```

**?ъ떆?묒씠 ?뺣쭚 ?꾩슂??寃쎌슦?먮쭔 紐낇솗???덈궡:**

```
???섏젙 ?꾨즺?덉뒿?덈떎!

?뚯뒪??諛⑸쾿:
1. ?섎룞 ?뚯뒪??(?ъ떆??遺덊븘??
   - 釉뚮씪?곗? ?덈줈怨좎묠
   - ?먮룞???섏씠吏 ??利됱떆 ?ㅽ뻾 踰꾪듉 ?대┃

2. ?ㅼ?以꾨윭 ?먮룞 ?ㅽ뻾 ?뚯뒪??(?ъ떆???꾩슂)
   - pm2 restart trend-video-frontend
   - ?ㅼ?以??쒓컙 ?꾨옒 ???먮룞 ?ㅽ뻾 ?뺤씤
```

---

## 18. ?ъ뿰 ?곸긽 ?앹꽦 ?쒖뒪??(2025-11-15 異붽?) 狩?

### ?렞 媛쒖슂

?좏뒠釉??ъ뿰 ?곸긽???쒖? 援ъ“(??+ CTA + 蹂몃Ц)瑜?濡깊뤌怨??륂뤌 紐⑤몢???곸슜

### ?듭떖 援ъ“

**濡깊뤌 (60遺?)**:
```
Scene 1:
?쒋? ??(30珥?1遺?: 洹뱀쟻??????곹솴
?쒋? CTA: "?ъ뿰 ?쒖옉 ?꾩뿉 臾대즺濡??????덈뒗 援щ룆怨?醫뗭븘??遺?곷뱶由쎈땲??.."
?붴? 蹂몃Ц: 蹂멸꺽?곸씤 ?ъ뿰 ?쒖옉

Scene 2~12:
?붴? ?댁뼱吏???ㅽ넗由?
```

**?륂뤌 (60珥?**:
```
?쒋? ??(5-10珥?: 媛뺣젹???쒖옉
?쒋? CTA (3-5珥?: "援щ룆怨?醫뗭븘??遺?곷뱶由쎈땲??"
?붴? 蹂몃Ц (40-50珥?: ?듭떖 + 諛섏쟾
```

### ?꾨＼?꾪듃 ?쒗뵆由??꾩튂

```
trend-video-backend/src/prompts/
?쒋? long_form_prompt.txt       # 濡깊뤌
?쒋? short_story_system.txt     # ?륂뤌 ?쒖뒪??
?붴? short_story_user.txt       # ?륂뤌 ?ъ슜??
```

### ?뚯뒪???ㅽ뻾

```bash
node test-story-generation.js
```

**寃곌낵**: 20/20 ?듦낵 ??

### ?먯꽭???댁슜

- **濡깊뤌 媛?대뱶**: [LONGFORM_STORY_GUIDE.md](LONGFORM_STORY_GUIDE.md)
- **?륂뤌 媛?대뱶**: [SHORTFORM_STORY_GUIDE.md](SHORTFORM_STORY_GUIDE.md)
- **醫낇빀 媛?대뱶**: [STORY_GENERATION_COMPLETE.md](STORY_GENERATION_COMPLETE.md)

---

## 17. ?ㅼ?以꾨윭 以묐났 ?ㅽ뻾 諛⑹?

### ?렞 ?듭떖 洹쒖튃

**?덉씠??而⑤뵒??諛⑹?瑜??꾪븳 ?먯옄???곹깭 ?낅뜲?댄듃**

### ???섎せ??諛⑸쾿 (?덉씠??而⑤뵒??諛쒖깮)

```typescript
// 1. 議고쉶
const pendingSchedules = getPendingSchedules();

// 2. ?곹깭 蹂寃?
updateScheduleStatus(schedule.id, 'processing');

// ?좑툘 臾몄젣: 1怨?2 ?ъ씠???ㅻⅨ ?ㅼ?以꾨윭媛 媛숈? ?ㅼ?以꾩쓣 媛?멸컝 ???덉쓬!
```

### ???щ컮瑜?諛⑸쾿 (?먯옄???낅뜲?댄듃)

```typescript
// 1. WHERE 議곌굔???꾩옱 ?곹깭瑜??ы븿?섏뿬 ?먯옄?곸쑝濡??낅뜲?댄듃
const result = db.prepare(`
  UPDATE video_schedules
  SET status = 'processing', updated_at = CURRENT_TIMESTAMP
  WHERE id = ? AND status = 'pending'
`).run(schedule.id);

// 2. ?낅뜲?댄듃??row ???뺤씤
if (result.changes === 0) {
  // ?ㅻⅨ ?ㅼ?以꾨윭媛 ?대? 泥섎━ 以?
  console.log('Already being processed by another scheduler');
  continue;
}

// 3. ?뚯씠?꾨씪???앹꽦
const pipelineIds = createPipeline(schedule.id);
```

### ?듭떖 ?ъ씤??

1. **留덊궧??癒쇱? ?대씪**: ?곹깭 ?낅뜲?댄듃瑜?媛??癒쇱? ?섑뻾
2. **WHERE 議곌굔???꾩옱 ?곹깭 ?ы븿**: `AND status = 'pending'`
3. **?낅뜲?댄듃 寃곌낵 ?뺤씤**: `result.changes === 0`?대㈃ ?대? 泥섎━ 以?
4. **以묐났 ?뚯씠?꾨씪??泥댄겕**: ?뚯씠?꾨씪??議댁옱 ?щ????뺤씤

### ?곸슜 ?꾩튂

- `automation-scheduler.ts`: `processPendingSchedules()`
- `force-execute/route.ts`: 利됱떆 ?ㅽ뻾 API
- 紐⑤뱺 concurrent ?묒뾽 泥섎━

### 李멸퀬

**?뚯씪:** `trend-video-frontend/src/lib/automation-scheduler.ts:100-135`

---

## 19. 踰꾧렇 ?섏젙 ?덉뒪?좊━

### Tailwind CSS v4 Emoji Parsing Error

**臾몄젣:** `RangeError: Invalid code point` ?먮윭

**?닿껐:** Tailwind CSS v4 ??v3 ?ㅼ슫洹몃젅?대뱶

```bash
npm uninstall @tailwindcss/postcss tailwindcss
npm install -D tailwindcss@3 postcss autoprefixer
```

### Python Job 臾댄븳 濡쒓렇 踰꾧렇

**臾몄젣:** 釉뚮씪?곗? ?ロ???Python ?꾨줈?몄뒪 怨꾩냽 ?ㅽ뻾

**?닿껐:**
1. Python agent 移섎챸???먮윭 媛먯? ??利됱떆 醫낅즺
2. FOREIGN KEY ?먮윭 諛⑹? (contentId 議댁옱 ?뺤씤)


### JSON ?뚯떛 ?ㅽ뙣 (?곹뭹 ?蹂?

**臾몄젣:** 以묒꺽 ?곗샂??留롮? JSON ?뚯떛 ?ㅽ뙣

**?닿껐:** 湲??꾨뱶留??좏깮?곸쑝濡??곗샂???댁뒪耳?댄봽

```typescript
const longFields = ['narration', 'sora_prompt', 'product_intro'];
longFields.forEach(field => {
  json = escapeQuotesInField(json, field);
});
```

---

*Last Updated: 2025-11-16*

---

## 20. ?곹뭹 ?먮룞???뚰겕?뚮줈??(2025-11-19 異붽?) 狩먥춴

### ?렞 ?듭떖 ?먯튃: ?곹뭹 ?뺣낫 ?꾩껜瑜??ы븿?섏뿬 ?먮룞???깅줉

**臾몄젣:**
- ?먮룞???먯뿉 ?곹뭹???깅줉????`title`留??섍린硫? ?댄썑 ?蹂??앹꽦 ?④퀎?먯꽌 ?대떦 ?곹뭹???곸꽭 ?뺣낫(?대?吏, 媛寃? URL ??瑜??쒖슜?????놁쓬.
- 寃곌낵?곸쑝濡?"???곹뭹?..."怨?媛숈씠 留λ씫 ?녿뒗 ?蹂몄씠 ?앹꽦??

**?닿껐:**
- ?먮룞????`video_titles` ?뚯씠釉????깅줉???? ?곹뭹??紐⑤뱺 愿???곗씠?곕? `product_data` 而щ읆??JSON ?뺥깭濡???ν빐????

### ???щ컮瑜??뚰겕?뚮줈??

1.  **?곹뭹 ?뚯떛**: '荑좏뙜 踰좎뒪?? ?깆쓽 ?뚯뒪?먯꽌 ?곹뭹???좏깮?⑸땲??
2.  **?λ쭅???앹꽦**: ?대떦 ?곹뭹???몃옒??媛?ν븳 ?λ쭅?щ? ?앹꽦?⑸땲??
3.  **'??紐⑸줉' ?깅줉**: ?앹꽦???λ쭅?ъ? ?④퍡 ?곹뭹??'??紐⑸줉' ?먮뒗 '?곹뭹 愿由? ?섏씠吏??異붽??⑸땲?? ???? ?곹뭹紐? ?대?吏 URL, 媛寃???理쒕???留롮? ?뺣낫瑜??④퍡 ??ν빀?덈떎.
4.  **?먮룞???깅줉**:
    - '??紐⑸줉'?먯꽌 '?먮룞?? 踰꾪듉???대┃?⑸땲??
    - ???? `video_titles` ?뚯씠釉붿뿉 ?덈줈??row瑜?異붽??섎㈃?? **3踰??④퀎?먯꽌 ??ν뻽??紐⑤뱺 ?곹뭹 ?뺣낫瑜?JSON?쇰줈 蹂?섑븯??`product_data` 而щ읆?????*?⑸땲??
    - `title` 而щ읆?먮뒗 ?곹뭹紐낆쓣 ??ν빀?덈떎.

**?곗씠???먮쫫:**

```
[?곹뭹 愿由??섏씠吏]                                      [video_titles ?뚯씠釉?
- productName: "?뚮뜑誘?寃⑥슱 ?묐쭚"                       - title: "?뚮뜑誘?寃⑥슱 ?묐쭚"
- productImage: "image.jpg"         --+              - type: "product"
- productUrl: "link.coupang.com/..."  |                - product_data: '{
- price: 12900                        | (?먮룞???깅줉)        "productName": "?뚮뜑誘?寃⑥슱 ?묐쭚",
...                                   +-->                  "productImage": "image.jpg",
                                                          "productUrl": "...",
                                                          "price": 12900
                                                        }'
```

### ???섎せ???뚰겕?뚮줈??

- '?먮룞???깅줉' ??`title`留?`video_titles` ?뚯씠釉붿뿉 ??ν븯怨?`product_data`瑜??꾨씫?쒗궎??寃쎌슦.
- ?대젃寃??섎㈃ ?蹂??앹꽦 AI媛 ?곹뭹 ?뺣낫瑜??꾪? ?????놁뼱 怨좏뭹吏덉쓽 ?곹뭹 ?ㅻ챸 ?蹂몄쓣 ?앹꽦?????놁뒿?덈떎.

### ?뵇 愿??肄붾뱶

- **?꾨줎?몄뿏??*: `trend-video-frontend/src/app/admin/coupang-products/page.tsx`??`handleAddToAutomation` ?⑥닔. `localStorage` ?먮뒗 ?곹깭(state)?먯꽌 `current_product_data`瑜?媛?몄? API濡??꾩넚?댁빞 ??
- **諛깆뿏??API**: `trend-video-frontend/src/app/api/titles/route.ts`??`POST` ?몃뱾?? ?붿껌 蹂몃Ц?먯꽌 `productData`瑜?諛쏆븘 `addVideoTitle` ?⑥닔濡??꾨떖?댁빞 ??
- **?곗씠?곕쿋?댁뒪 濡쒖쭅**: `trend-video-frontend/src/lib/automation.ts`??`addVideoTitle` ?⑥닔. `productData` ?뚮씪誘명꽣瑜?諛쏆븘 `video_titles` ?뚯씠釉붿뿉 ??ν븿.

```typescript
// src/lib/automation.ts - addVideoTitle ?⑥닔
export function addVideoTitle(data: {
  // ... ?ㅻⅨ ?뚮씪誘명꽣??
  productData?: string; // ?????뚮씪誘명꽣媛 ?듭떖
  // ...
}) {
  // ...
  db.prepare(`
    INSERT INTO video_titles (..., product_data, ...)
    VALUES (..., ?, ...)
  `).run(..., data.productData || null, ...);
  // ...
}
```

---
*Last Updated: 2025-11-19*

## ?꾨줎?몄뿏??SQL/由ы뙥?좊쭅 媛?대뱶 (?듯빀)

### SQL 而щ읆 ?ㅼ씠諛?- 媛??뚯씠釉?PK??紐낆떆??而щ읆紐??ъ슜 (`task_id`, `content_id` ?? ??`id` ?⑥씪 而щ읆紐??ъ슜 湲덉?.
- ?뚯씠釉붾퀎 PK ?덉떆:
  - `content`: `content_id`
  - `task_queue`: `(task_id, type)`
  - `task_lock`: `task_type`
  - `automation_setting`: `key`
  - `task`: `task_id`
  - `task_schedule`: `schedule_id`
  - `user`: `user_id`
  - `task_log`: `log_id`
  - `content_log`: `log_id`
  - `automation_log`: `log_id`
  - `user_activity_log`: `activity_id`
  - `user_session`: `session_id`

### 由ы뙥?좊쭅 ??二쇱꽍/JSDoc ?덉떆
```typescript
/**
 * @fileoverview ?뚯씪 ?ㅻ챸
 * @refactored YYYY-MM-DD
 * @see .claude/REFACTORING_SPEC.md
 * @warning 二쇱쓽?ы빆 (二쇱슂 而щ읆, 蹂寃쎈맂 援ъ“ ??
 */
```

```typescript
/**
 * ?⑥닔 ?ㅻ챸
 * @description ?곸꽭 ?ㅻ챸
 * @see .claude/REFACTORING_SPEC.md
 * @param paramName - ?뚮씪誘명꽣 ?ㅻ챸
 * @returns 諛섑솚媛??ㅻ챸
 */
export function myFunction(param: string): string {
  // ...
}
```

### 由ы뙥?좊쭅 臾몄꽌 湲곕줉
- 湲곕뒫/由ы뙥?좊쭅 ?댁슜? `.claude/REFACTORING_SPEC.md`??湲곕줉: 蹂寃??댁쑀, ?듭떖 洹쒖튃, ?뚭? 諛⑹? 諛⑸쾿 ?깆쓣 ?④만 寃?

