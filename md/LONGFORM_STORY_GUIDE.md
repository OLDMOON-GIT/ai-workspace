# 롱폼 사연 영상 생성 가이드

## 개선 내용 (2025-11-15)

유튜브 사연 영상의 표준 구조를 반영하여 롱폼 생성 시스템을 개선했습니다.

### 주요 변경사항

#### 1. 프롬프트 템플릿 파일 추가
- **위치**: `trend-video-backend/src/prompts/long_form_prompt.txt`
- **내용**: 유튜브 롱폼 사연 영상 작성 규칙 정의

#### 2. 스토리 구조 개선
**이전**: 씬별로 자유롭게 작성
**이후**: 반드시 다음 순서를 따름

1) **강력한 훅 (Hook)** - 첫 30초~1분
   - 가장 극적인 대사나 상황으로 시작
   - 갈등 상황 제시
   - 시청자 호기심 자극

2) **구독/좋아요 유도 (CTA)** - 훅 직후
   ```
   사연 시작 전에 무료로 할 수 있는 구독과 좋아요 부탁드립니다.
   사연봉투를 찾아 주신 모든 분들께 건강과 행복이 가득하시길 바랍니다.
   오늘의 사연 시작하겠습니다.
   ```

3) **본격적인 사연 전개**
   - 시간 순서로 진행
   - 감정 묘사 풍부
   - 구체적인 장면과 대화

#### 3. 코드 수정 사항

**`_generate_story_structure` 함수**:
- scene_1에 훅 + CTA 포함 요구
- scene_1의 분량을 400-500자로 증가 (다른 씬: 200-300자)

**`_generate_single_scene_narration` 함수**:
- scene_num이 1인 경우 특별한 프롬프트 사용
- CTA 멘트 필수 포함
- 구어체 말투 강조

---

## 사용 예시

### 기본 사용법

```python
from src.video_generator.long_form_creator import LongFormStoryCreator

config = {...}  # 설정
creator = LongFormStoryCreator(config)

# 롱폼 사연 생성
result = creator.create_from_prompt(
    prompt="재벌 회장이 김밥집 며느리를 시험하다",
    output_dir=Path("output"),
    num_scenes=12,
    target_minutes=60
)
```

### 생성되는 구조

```json
{
  "title": "예비 며느리를 시험하려 김밥집에 찾아간 재벌 회장",
  "scenes": [
    {
      "scene_number": 1,
      "narration": "김밥하는 여자랑 결혼하겠다고. 절대 안 돼. 당장 헤어져. 대한민국 10대 재벌 한진 그룹 최도훈 회장이 소리쳤습니다. 아들이 3년째 몰래 만난다는 여자. 월세 30만 원도 못내는 김밥집 사장이었어요. 최회장은 결심했습니다. 거지로 변장해 그 여자의 진짜 속내를 파헤치기로요. 하지만 그가 김밥집에서 목격한 것은 상상을 초월했습니다. 도대체 무슨 일이 있던 걸까요? 사연 시작 전에 무료로 할 수 있는 구독과 좋아요 부탁드립니다. 사연봉투를 찾아 주신 모든 분들께 건강과 행복이 가득하시길 바랍니다. 오늘의 사연 시작하겠습니다. 2025년 4월에 어느 봄날 오후였습니다..."
    },
    {
      "scene_number": 2,
      "narration": "한진 그룹 회장실 63층에서 최도운 회장은 창밖을 바라보고 있었어요..."
    }
  ]
}
```

---

## 구조 분석

### 제공된 유튜브 사연 분석 결과

**타이틀**: "예비 며느리를 시험하려 깁밥집에 거지모습으로 찾아간 재벌 회장, 며느리의 행동에 무릎 꿇어버리고 마는데.."

**구조**:
1. **훅** (00:00-00:56): 극적인 대사와 상황 제시
2. **CTA** (00:56): 구독/좋아요 유도
3. **전개** (00:56-끝): 본격적인 스토리

**특징**:
- 구어체 말투 ("~했습니다", "~했어요", "~했죠")
- 풍부한 감정 묘사
- 구체적인 시간/장소 표현
- 인물의 내면 심리 표현
- 대사 직접 인용

---

## 프롬프트 템플릿 커스터마이징

`trend-video-backend/src/prompts/long_form_prompt.txt` 파일을 수정하여 스토리 스타일을 변경할 수 있습니다.

### 예시: 더 극적인 스타일로 변경

```
### 1. 스토리 구조 (필수)
**반드시 다음 순서로 작성:**

1) **초강력 훅** (첫 30초): 충격적인 대사나 장면으로 시작
   - 예: "당신을 죽일 겁니다. 바로 오늘."

2) 상황 설명 (30초-1분)

3) **구독/좋아요 CTA**: (생략 불가)
   ...
```

---

## 주의사항

### ✅ 필수 요소
- 첫 번째 씬에 반드시 CTA 포함
- 구어체 말투 사용
- 풍부한 감정 묘사
- 시간 순서 진행

### ❌ 금지사항
- CTA 생략
- 설명조 문체
- 예측 가능한 전개
- 추상적인 표현

---

## 트러블슈팅

### Q: CTA가 포함되지 않는 경우
**A**: `long_form_creator.py`의 `_generate_single_scene_narration` 함수에서 scene_num == 1일 때 특별한 프롬프트를 사용하는지 확인하세요.

### Q: 훅이 약한 경우
**A**: `long_form_prompt.txt` 파일의 예시를 더 극적으로 수정하세요.

### Q: 분량이 부족한 경우
**A**: `min_per_scene` 파라미터를 증가시키세요.

---

## 참고 자료

- **유튜브 사연 예시**: https://www.youtube.com/watch?v=xajTg83Cv3U
- **프롬프트 파일**: `trend-video-backend/src/prompts/long_form_prompt.txt`
- **생성 코드**: `trend-video-backend/src/video_generator/long_form_creator.py`

---

## 관련 문서

- **숏폼 가이드**: [SHORTFORM_STORY_GUIDE.md](SHORTFORM_STORY_GUIDE.md)
- **테스트 스크립트**: `test-story-generation.js`

---

*Last Updated: 2025-11-15*
