# 숏폼 사연 영상 생성 가이드

## 개선 내용 (2025-11-15)

유튜브 사연 영상의 표준 구조를 숏폼에도 적용했습니다.

---

## 주요 변경사항

### 1. 프롬프트 템플릿 파일 추가

#### `short_story_system.txt`
- **위치**: `trend-video-backend/src/prompts/short_story_system.txt`
- **내용**: 숏폼 사연 작성 시스템 규칙

#### `short_story_user.txt`
- **위치**: `trend-video-backend/src/prompts/short_story_user.txt`
- **내용**: 사용자 프롬프트 템플릿

### 2. 스토리 구조 개선

**필수 구조 (60초 이내)**:

```
1) 강력한 훅 (5-10초) - 약 20-30자
   └─ 예: "그 여자, 결국 나를 배신했다."

2) CTA (3-5초) - 약 30-40자
   └─ "구독과 좋아요 부탁드립니다."

3) 본문 (40-50초) - 약 100-150자
   └─ 핵심 사건 + 반전/여운
```

**총 분량**: 150-200자

---

## 롱폼 vs 숏폼 비교

| 구분 | 롱폼 | 숏폼 |
|------|------|------|
| **길이** | 60분+ | 60초 이내 |
| **총 글자수** | 40,000자+ | 150-200자 |
| **훅** | 30초-1분 | 5-10초 |
| **CTA** | 장문 멘트 | 짧은 멘트 |
| **구조** | 12+ 씬 | 단일 스토리 |

### 롱폼 CTA (상세)
```
사연 시작 전에 무료로 할 수 있는 구독과 좋아요 부탁드립니다.
사연봉투를 찾아 주신 모든 분들께 건강과 행복이 가득하시길 바랍니다.
오늘의 사연 시작하겠습니다.
```

### 숏폼 CTA (간결)
```
구독과 좋아요 부탁드립니다.
```

또는

```
무료 구독과 좋아요로 응원해주세요!
```

---

## 사용 방법

### 기본 사용

```python
from src.video_generator.story_video_creator import StoryVideoCreator
from pathlib import Path

config = {...}  # 설정
creator = StoryVideoCreator(config)

# 숏폼 사연 생성
result = creator.create_from_prompt(
    prompt="배신당한 사랑, 그리고 복수",
    output_path=Path("output/shorts_story.mp4"),
    duration=60,  # 60초
    aspect_ratio="9:16"  # 세로 형식
)
```

### 생성되는 구조

```
[훅] 그 여자, 결국 나를 배신했다.
[CTA] 구독과 좋아요 부탁드립니다.
[본문] 3년을 함께 했는데, 마지막 순간 그녀는 그 남자를 선택했어요.
하지만 1년 후, 그녀가 울면서 다시 찾아왔을 때...
저는 이미 다른 사람과 행복했습니다.
```

---

## 프롬프트 커스터마이징

### 예시: 더 강렬한 훅 스타일

`short_story_system.txt` 수정:

```
1) **초강력 훅 (5-10초)** - 약 20-30자
   - 충격적이고 자극적인 문장
   - 예: "당신을 죽일 겁니다. 바로 오늘."
```

### 예시: CTA 변형

`short_story_user.txt` 수정:

```
**2단계: CTA (30-40자)**
다음 중 하나 사용:
- "무료 구독과 좋아요 눌러주세요!"
- "구독 좋아요로 응원 부탁드려요!"
```

---

## 테스트 방법

### 1. 자동 테스트 실행

```bash
node test-story-generation.js
```

**확인 사항**:
- ✅ 프롬프트 파일 존재
- ✅ CTA 포함 확인
- ✅ 구조 검증
- ✅ 코드 수정 확인

### 2. 실제 생성 테스트

#### 프론트엔드에서:
1. "숏폼 사연" 생성 요청
2. 제목: "배신과 복수"
3. 생성 완료 후 스크립트 확인

#### 확인할 점:
- ✅ 훅이 강력한가?
- ✅ CTA가 자연스럽게 포함되었나?
- ✅ 본문이 간결한가?
- ✅ 총 분량이 적절한가? (150-200자)

---

## 주의사항

### ✅ 필수 요소
- 훅으로 강하게 시작
- CTA 생략 금지
- 짧고 임팩트 있는 문장
- 핵심만 전달

### ❌ 금지사항
- 장황한 설명
- 불필요한 배경
- CTA 변형/생략
- 과도한 디테일

---

## 트러블슈팅

### Q: CTA가 포함되지 않는 경우
**A**: `short_story_user.txt`에서 "CTA 생략 금지" 문구가 있는지 확인하세요.

### Q: 분량이 너무 긴 경우
**A**: `target_chars` 파라미터를 150-170으로 조정하세요.

### Q: 훅이 약한 경우
**A**: `short_story_system.txt`의 예시를 더 강렬하게 수정하세요.

---

## 예시 스크립트

### 예시 1: 배신과 복수
```
그날, 내 인생이 완전히 바뀌었다. 구독과 좋아요 부탁드립니다.
사랑하던 사람이 나를 배신했어요. 하지만 5년 후, 그들이 거지가 되어
내 앞에 무릎 꿇었을 때... 저는 그냥 지나쳤습니다.
```

### 예시 2: 감동 스토리
```
"엄마, 사랑해." 마지막 말이었어요. 무료 구독과 좋아요로 응원해주세요!
10년 동안 병마와 싸운 엄마. 마지막 순간까지 저를 걱정하셨죠.
그리고 1년 후, 저는 의사가 되었습니다. 엄마의 꿈이었어요.
```

### 예시 3: 반전 스토리
```
그 남자, 제 남편이었어요. 구독과 좋아요 부탁드립니다.
카페에서 다른 여자와 있는 걸 목격했죠. 하지만 알고 보니
그 여자는... 제 깜짝 생일 파티를 준비하던 플래너였습니다.
```

---

## 참고 자료

- **프롬프트 파일**:
  - `trend-video-backend/src/prompts/short_story_system.txt`
  - `trend-video-backend/src/prompts/short_story_user.txt`
- **생성 코드**: `trend-video-backend/src/video_generator/story_video_creator.py`
- **테스트**: `test-story-generation.js`

---

*Last Updated: 2025-11-15*
